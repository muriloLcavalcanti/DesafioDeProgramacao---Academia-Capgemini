<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Desafio 2</title>
</head>

<body>
    <Label>Digite a senha:</Label>
    <input type="password" id="senha" name="senha">
    <button onclick="validaSenha()">Enviar</button>
    <br>
    <div id="mensagem">
        <h3>A senha deve conter ao menos:</h3>
        <ul>
            <li>uma letra maiúscula</li>
            <li>uma letra minúscula</li>
            <li>um dígito numérico</li>
            <li>um caractere especial</li>
        </ul>
    </div>

    <script>
        function validaSenha() {
            var senha = String(document.getElementById("senha").value);
            var isLower = false
            var isUpper = false
            var isDigit = false
            var isEspecial = false
            var charEspecial = "\" ' \\ _ / | ! ? , . ; : > < @ # $ % ¨ ~ ^ ´ ` & * ( [ { } ] ) = - + ° º ª"


            // VERIFICA SE O CARACTERE É NUMÉRICO
            for (let i = 0; i < senha.length; i++) {
                if (!isNaN(senha[i])) {
                    isDigit = true
                    console.log(`1. ${senha[i]} `)
                }
                // - VERIFICA SE O CARACTERE É MINUSCULO
                else if (senha[i] == senha[i].toLowerCase()) {
                    isLower = true
                    console.log(`2. ${senha[i]} `)
                }
                // VERIFICA SE O CARACTERE É MAIÚSCULO
                else if (senha[i] == senha[i].toUpperCase()) {
                    isUpper = true
                    console.log(`3. ${senha[i]} `)
                }
                // - VERIFICA SE O CARACTERE É ESPECIAL
                for (let f = 0; f < charEspecial.length; f++) {
                    if (senha[i] == charEspecial[f]) {
                        isEspecial = true;
                        console.log(`4. ${senha[i]} `)
                    }
                }
            }

            var mensagem = ''

            // A partir deste trecho acontece a verificação de todos os critérios em conjunto
            // Caso o(s) requisto(s) não seja(m) atendido(s), o alerta será disparado e informando o que falta

            // Verifica quantidade minima de caracteres
            if (senha.length < 6) {
                mensagem = alert("A senha deve conter ao menos 6 caracteres.");
            } else {
                // Verifica minúsculas
                if (!isLower) {
                    mensagem = alert("Acrescente ao menos uma letra minúscula");
                }
                // Verifica maiúsculas
                if (!isUpper) {
                    mensagem = alert("Acrescente ao menos uma letra maiúscula");
                }
                // Verifica dígitos
                if (!isDigit) {
                    mensagem = alert("Acrescente ao menos um digito numérico");
                }
                // Verifica caracteres especiais
                if (!isEspecial) {
                    mensagem = alert("Acrescente ao menos um caractere especial");
                }
                // Se as condições forem verdadeiras uma mensagem de confirmação será printada
                else if (isLower && isUpper && isDigit && isEspecial) {
                    mensagem = "senha aprovada"
                    document.getElementById("mensagem").innerHTML = mensagem
                }
            }
            // Verificação de código em desenvolvimento*
            console.log(`${isDigit} \ ${isUpper} \ ${isLower} \ ${isEspecial}`);
        }

    </script>

</body>

</html>